@page "{id}"
@model PinhuaMaster.Pages.Personnel.Files.DetailsModel
@{
    ViewData["Title"] = "查看";
}

<form method="post">
    <div class="row">
        <div class="col-md-8">
            <div class="box box-solid">
                <div class="box-footer">
                    <a asp-page="Index" class="btn btn-default btn-flat pull-left"><i class="fa fa-mail-reply"></i> 返回</a>
                    <div class="pull-right">
                        <a href="javascript:toDelete('@Model.PersonnelFile.ExcelServerRcid')" class="btn btn-danger btn-flat"><i class="fa fa-times"></i> 删除</a>
                        <a asp-page="Edit" asp-route-id="@Model.PersonnelFile.Id" class="btn btn-success btn-flat"><i class="fa fa-edit"></i> 修改</a>
                    </div>
                </div>
                <div class="box-body">
                    <div class="form-horizontal">
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.Id"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.Id" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-info" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.State"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.State" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-info" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.Name"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.Name" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-info" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.IdentityCard"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.IdentityCard" class="form-control" id="idNumber" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-info" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.ContactNumber"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.ContactNumber" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-phone" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.Address"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.Address" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-address-card" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.Sex"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.Sex" class="form-control" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-venus-mars" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.BirthDate"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.BirthDate" value="@Model?.PersonnelFile?.BirthDate?.ToString("yyyy-MM-dd")" class="form-control" type="text" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-birthday-cake" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.InServiceFrom"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.InServiceFrom" class="form-control" type="text" value="@Model?.PersonnelFile?.InServiceFrom?.ToString("yyyy-MM-dd")" readonly data-provide="datepicker" data-date-format="yyyy-mm-dd" />
                                    <div class="input-group-addon no-padding"><i class="fa fa-calendar" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.InServiceEnd"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.InServiceEnd" class="form-control" type="text" value="@Model?.PersonnelFile?.InServiceEnd?.ToString("yyyy-MM-dd")" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-calendar" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.ReasonOfLeave"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.ReasonOfLeave" class="form-control" type="text" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-text-width" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group has-error">
                            <label class="control-label col-xs-3" asp-for="PersonnelFile.SignedDate"></label>
                            <div class="col-xs-9">
                                <div class="input-group">
                                    <input asp-for="PersonnelFile.SignedDate" value="@Model?.PersonnelFile?.SignedDate?.ToString("yyyy-MM-dd HH:mm:ss")" class="form-control" type="text" readonly />
                                    <div class="input-group-addon no-padding"><i class="fa fa-calendar" style="width: 38px;"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="box-footer">
                    <div class="pull-right">
                        <a asp-page="Resign" class="btn btn-default btn-flat"><i class="fa fa-user-times"></i> 离职</a>
                        <a asp-page="Dismiss" class="btn btn-default btn-flat"><i class="fa fa-user-times"></i> 辞退</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="box box-solid">
        <div class="box-body">
            <table class="table table-bordered table-striped table-hover">
                <thead>
                    <tr>
                        <th>卡号</th>
                        <th>状态</th>
                        <th>起始日期</th>
                        <th>截止日期</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var card_info in Model.AttendanceCards)
                    {
                    <tr>
                        <td>@card_info.卡号</td>
                        <td>@card_info.状态</td>
                        <td>@card_info.起始日期</td>
                        <td>@card_info.截止日期</td>
                    </tr>

                    }
                </tbody>
            </table>
        </div>
    </div>
</form>

<form method="post" asp-page="Delete" id="toDeleteForm">
    <input type="hidden" id="toDeleteRcid" name="rcId" />
</form>

@section Scripts{
    <script>
        function toDelete(rcid) {
            if (confirm('确定删除这条记录吗？')) {
                $('#toDeleteRcid').val(rcid);
                $('#toDeleteForm').submit();
            }
        }
    </script>
}